# Moder-tg-bot

Бот-модератор супергрупп в Telegram

## Особености

- Удаление сервисных сообщений (join, left)
- Подтверждение входа нажатием на кнопку
- Локализация подтверждающего сообщения на 6 языках
- Удаление медиа контента
- Удаление ссылок, которые не находятся в белом списке
- Удаление стикеров, если пользователь находится в группе меньше недели
- Сам бот является админкой, где можно вкл/выкл вышеперечисленные пункты в каждой группе
- Скачать базу пользователей по группам, которую он успел собрать
- Добавлять бота в группы и управлять им может только администратор (берется параметр `ADMIN` из `.env` файла)

## Установка

Для начала нужно установить [Docker](https://docs.docker.com/install/) и [docker-compose](https://docs.docker.com/compose/install/)

Переименовать `.env-example` в `.env` и прописать необходимые настройки

Сгенерировать сертификаты в папку `conf.d`
```
cd conf.d
openssl genrsa -out webhook_pkey.pem 2048
openssl req -new -x509 -days 3650 -key webhook_pkey.pem -out webhook_cert.pem
```
При вопросе "Common Name (e.g. server FQDN or YOUR name)", вписать значение указанное в `WEBHOOK_HOST`

Дальше выполнить следующие команды:
```
docker-compose up --build -d
docker-compose exec bot python -m bot.models
```
